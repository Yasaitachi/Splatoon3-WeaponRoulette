**日本語**

# Splatoon 3 Weapon Roulette

スプラトゥーン3のブキをランダムに選出するWebツールです。友人とのプライベートマッチや、普段使わないブキの練習など、様々なシーンでご活用ください。

**[デモページはこちら](https://yasaitachi.github.io/Splatoon3-WeaponRoulette/)**

---

## 主な機能

### 基本機能
- **ブキ抽選**: 1人から最大8人までのプレイヤーのブキを一度に抽選します。
- **詳細なフィルター**: ブキ種、サブウェポン、スペシャルウェポンで抽選対象を細かく絞り込めます。
- **重複なしモード**: 一度のセッションで同じブキが重複して選ばれないようにするオプションです。
- **履歴機能**: 過去の抽選結果を自動で保存・表示します。ブラウザを閉じても履歴は保持されます。
- **確率表示**: 現在のフィルター条件における各ブキの排出確率をリアルタイムで確認できます。
- **多言語対応**: UIとブキ名を日本語と英語で切り替え可能です。
- **テーマ設定**: ライトモード、ダークモード、またはOSのシステム設定に追従するテーマを選択できます。
- **全画面表示**: より集中して利用するための全画面モードを搭載しています。

### オンライン機能
- **リアルタイム同期ルーム**:
  - パスワード付きのルームを作成し、招待リンクでフレンドを招待できます。
  - ルームに参加すると、抽選結果、履歴、フィルター設定が全メンバーとリアルタイムで同期されます。
  - ルーム内チャット機能で、参加者とコミュニケーションが取れます。
  - ホストは抽選の実行やフィルターの変更など、ルームの操作権限を持ちます。
- **プレイヤー＆フレンド機能**:
  - プレイヤー名とユニークなID(#から始まる5桁の番号)を設定できます。
  - IDを使って他のプレイヤーを検索し、フレンド申請を送信できます。
  - フレンドのオンライン状態を確認できます。
- **Discord Webhook連携**: 抽選結果をDiscordチャンネルに自動で送信します。
- **その他**:
  - **音声入力**: マイクを使ってチャットメッセージを入力できます。
  - **スリープ防止**: ページを開いている間、デバイスがスリープするのを防ぎます。

### 管理者機能
- **管理者ダッシュボード**:
  - サーバーの稼働状況（アクティブなルーム数、オンラインユーザー数など）を一覧できます。
  - 全てのルームとユーザーの情報をリアルタイムで監視・管理できます。
  - ルームの強制解散、チャット履歴の閲覧、参加メンバーの確認が可能です。
  - ユーザーのID変更、アカウント削除、BAN（オンライン機能の利用制限）などの管理操作を行えます。
  - **全体アナウンス**: オンライン中の全ユーザーにアナウンスを送信できます。

## 使い方

### オフラインでの利用
1.  **プレイヤー数を入力**: 抽選したい人数を1〜8の間で設定します。
2.  **(任意) フィルターを設定**:
    - ブキ種、サブウェポン、スペシャルウェポンの中から、抽選に含めたいものだけをチェックします。
    - 「すべて切り替え」ボタンで一括操作も可能です。
3.  **(任意) 重複なしを設定**: 同じブキが再度選ばれないようにしたい場合は、「重複なし」にチェックを入れます。
4.  **「回す」をクリック**: ボタンを押すと抽選が始まります。
5.  **結果を確認**: 抽選されたブキが画面に表示されます。複数人の場合はリストで表示されます。

### オンラインでの利用
1.  **プレイヤー設定**:
    - 右上のプレイヤーアイコンから「プレイヤー設定」を開き、オンラインで使う名前を入力します。
    - 決定すると、あなた専用のプレイヤーIDが自動で発行されます。
2.  **ルームの作成または参加**:
    - 右上の電波アイコンから「オンライン設定」を開きます。
    - **作成する場合**: 「新しいルームを作成」ボタンを押すと、ルームIDとパスワードが自動で生成されます。
    - **参加する場合**: ホストから共有されたルームIDとパスワードを入力し、「参加する」ボタンを押します。
3.  **ルーム内での操作**:
    - **ホスト**: プレイヤー数の変更や「回す」ボタンのクリックで、全メンバーの画面で抽選が同期されます。フィルターの変更も同期されます。
    - **参加者**: ホストの操作を待ちます。チャット機能は全員が利用できます。

## 技術スタック

- HTML, CSS, JavaScript (Vanilla JS, ライブラリ不使用)
- Firebase (Realtime Database)Freeplan
